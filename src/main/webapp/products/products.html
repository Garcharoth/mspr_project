<!DOCTYPE html>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<html lang="en"
      xmlns:v-bind="http://www.w3.org/1999/xhtml"
      xmlns:v-on="http://www.w3.org/1999/xhtml"
>
<head>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script defer src="/js/products.js"></script>
    <meta charset="UTF-8">
    <title>Products available</title>
</head>
<body>

<div id="app">
    <div class="container">
        <h1>Products available</h1>
        <div class="product-list">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col">Model</th>
                        <th scope="col">Brand</th>
                        <th scope="col">Price</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>

                <tbody>
                    <tr v-for="product in products">
                        <td class="col">{{ product.model }}</td>
                        <td class="col">{{ product.brand }}</td>
                        <td class="col">${{ product.price }}</td>
                        <td class="col">{{ product.quantity }}</td>
                        <td class="col"><button type="button" class="btn btn-warning" v-on:click="update = true; changeProduct = product">
                            update
                        </button>
                            <button type="button" class="btn btn-danger" v-on:click="deleteProduct(product)">
                                delete
                            </button>
                        </td>


                    </tr>

                </tbody>
            </table>

            <div>
                <button type="button" class="btn btn-primary" v-on:click="create = true; newProduct = {}">
                    Add a new product
                </button>
            </div>
        </div>

        <br>

        <div class="product-form" v-if="create">
            <div class="input-group mb-3">
                <span class="input-group-text">Product model:</span>
                <input type="text" class="form-control" placeholder="Model" aria-label="Model" aria-describedby="basic-addon1" v-model="newProduct.model">
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text">Product brand:</span>
                <input type="text" class="form-control" placeholder="Brand" aria-label="Brand" aria-describedby="basic-addon1" v-model="newProduct.brand">
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text">Product price:</span>
                <input type="text" class="form-control" placeholder="Price" aria-label="Price" aria-describedby="basic-addon1" v-model="newProduct.price">
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text">Product price:</span>
                <input type="text" class="form-control" placeholder="Quantity" aria-label="Quantity" aria-describedby="basic-addon1" v-model="newProduct.quantity">
            </div>

            <div>
                <button type="button" class="btn btn-success" v-on:click="addProduct()">Create product</button>
            </div>
        </div>


        <div class="product-form" v-if="update">
            <div class="input-group mb-3">
                <span class="input-group-text">Product model:</span>
                <input type="text" class="form-control" placeholder="Model" aria-label="Model" aria-describedby="basic-addon1" v-model="changeProduct.model">
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text">Product brand:</span>
                <input type="text" class="form-control" placeholder="Brand" aria-label="Brand" aria-describedby="basic-addon1" v-model="changeProduct.brand">
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text">Product price:</span>
                <input type="text" class="form-control" placeholder="Price" aria-label="Price" aria-describedby="basic-addon1" v-model="changeProduct.price">
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text">Product price:</span>
                <input type="text" class="form-control" placeholder="Quantity" aria-label="Quantity" aria-describedby="basic-addon1" v-model="changeProduct.quantity">
            </div>

            <div>
                <button type="button" class="btn btn-success" v-on:click="updateProduct()">Validate</button>
            </div>

        </div>
    </div>
</div>
</body>
</html>